filter_complex = (
            "[0:v]split=3[v1][v2][v3];"
            "[v1]scale=640:360:flags=fast_bilinear[v360out];"
            "[v2]scale=842:480:flags=fast_bilinear[v480out];"
            "[v3]scale=1280:720:flags=fast_bilinear[v720out]"
        )
cmd = [
            "ffmpeg",
            "-i",
            "input_path",
            "-filter_complex",
            filter_complex,
            "-map",
            "[v360out]",
            "-map",
            "[v480out]",
            "-map",
            "[v720out]",
            "-map",
            "0:a?",
            "-c:v",
            "libx264",
            "-preset",
            "veryfast",
            "-profile:v",
            "high",
            "-level:v",
            "4.1",
            "-g",
            "48",
            "-keyint_min",
            "48",
            "-sc_threshold",
            "0",
            "-b:v:0",
            "1000k",
            "-b:v:1",
            "4000k",
            "-b:v:2",
            "8000k",
            "-c:a",
            "aac",
            "-b:a",
            "128k",
            "-f",
            "hls",
            "-hls_time",
            "6",
            "-hls_playlist_type",
            "vod",
            "-hls_flags",
            "independent_segments",
            "-hls_segment_type",
            "mpegts",
            "-hls_list_size",
            "0",
            "-master_pl_name",
            "master.m3u8",
            "-var_stream_map",
            "v:0,a:0 v:1,a:0 v:2,a:0",
            "-hls_segment_filename",
            f"output_path/%v/segment_%03d.ts",
            f"output_path/%v/playlist.m3u8" 
]

print(" ".join(cmd))